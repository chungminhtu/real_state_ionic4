{"version":3,"sources":["webpack:///./src/app/app-shopping/shopping-summary/shopping-summary.module.ts","webpack:///./src/app/app-shopping/shopping-summary/shopping-summary.page.html","webpack:///./src/app/app-shopping/shopping-summary/shopping-summary.page.scss","webpack:///./src/app/app-shopping/shopping-summary/shopping-summary.page.ts"],"names":[],"mappings":"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","file":"app-shopping-shopping-summary-shopping-summary-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ShoppingSummaryPage } from './shopping-summary.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ShoppingSummaryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ShoppingSummaryPage]\n})\nexport class ShoppingSummaryPageModule {}\n","module.exports = \"<ion-header no-border >\\n    <ion-toolbar color=\\\"bluegrey\\\">\\n            <ion-buttons color=\\\"light\\\" slot=\\\"start\\\" >\\n                <ion-back-button></ion-back-button>\\n            </ion-buttons>\\n            <ion-title color=\\\"light\\\" class=\\\"main-header6\\\">Place order</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-content padding>\\n\\n\\n\\n  <h1 class=\\\"main-header6\\\">Order summary</h1>\\n  <ion-card class=\\\"info-card\\\">\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let item of orderItems; let i = index\\\" lines=\\\"none\\\" class=\\\"ion-margin-top\\\" lines=\\\"none\\\">\\n          <ion-thumbnail slot=\\\"start\\\">\\n              <ion-img [src]=\\\"item.image\\\"></ion-img>\\n          </ion-thumbnail>\\n          <ion-label  class=\\\"text-left\\\">\\n            \\n            <h3>{{ item.name }}</h3>\\n            <p>Size: {{item.size}}</p>\\n            <p>\\n              Addon: <span *ngFor=\\\"let addOn of item.addOn;\\\">{{ addOn.name}}\\t&nbsp;</span>\\n            </p>\\n            <!-- <ion-icon name=\\\"trash\\\" slot=\\\"end\\\" color=\\\"dark\\\" (click)=\\\"removeCartProduct(i) \\\" ></ion-icon> -->\\n          </ion-label>\\n          <h5  slot=\\\"end\\\" text-right >{{ item.price | currency:'USD':'symbol' }}</h5>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" class=\\\"ion-margin-top\\\">\\n            <ion-label  class=\\\"text-left\\\">\\n                <h1 class=\\\"main-b-header8\\\">Total:</h1>\\n\\n            </ion-label>\\n            <h5 class=\\\"margin-top-5\\\" slot=\\\"end\\\" text-right >{{ total | currency:'USD':'symbol' }}</h5>       \\n            <!-- <span slot=\\\"end\\\">{{ total | currency:'USD':'symbol' }}</span> -->\\n        </ion-item>\\n\\n        <ion-item lines=\\\"none\\\" class=\\\"ion-text-left\\\">\\n            <ion-label  class=\\\"text-left\\\">\\n                <h1 class=\\\"main-b-header8\\\">Payment:</h1>\\n\\n            </ion-label>           \\n            <h5 class=\\\"margin-top-5\\\" slot=\\\"end\\\" text-right >{{ paymentType}}</h5>     \\n          </ion-item>\\n      </ion-list>\\n  </ion-card>\\n\\n\\n  <h1 class=\\\"main-header6\\\">Shipping to</h1>\\n  <ion-card  class=\\\"info-card ion-padding-top ion-padding-bottom\\\"  >\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label>\\n                <h3>{{(address | async)?.label}}</h3>\\n                <p>{{(address | async)?.fullname}}</p>\\n                <p class=\\\"ion-text-wrap\\\" >{{(address | async)?.address}}</p>\\n                <p>{{(address | async)?.phone}}</p>\\n        </ion-label>\\n      </ion-item>\\n  </ion-card>\\n\\n  <h1 class=\\\"main-header6\\\">Billing address</h1>\\n  <ion-card  class=\\\"info-card ion-padding-top ion-padding-bottom\\\"  >\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label>\\n                <h3>{{(address | async)?.label}}</h3>\\n                <p>{{(address | async)?.fullname}}</p>\\n                <p class=\\\"ion-text-wrap\\\" >{{(address | async)?.address}}</p>\\n                <p>{{(address | async)?.phone}}</p>\\n        </ion-label>\\n      </ion-item>\\n  </ion-card>\\n  </ion-content>\\n  <ion-footer>\\n      <ion-toolbar>\\n          <ion-button color=\\\"bluegrey\\\" expand=\\\"full\\\" (click)=\\\"addOrder()\\\">Place order</ion-button>\\n      </ion-toolbar>\\n  </ion-footer>\"","module.exports = \"ion-content {\\n  --background: #f6f6f6; }\\n\\nion-label {\\n  padding-left: 15px; }\\n\\nion-thumbnail {\\n  --size: 50px;\\n  border-radius: 8px  !important;\\n  background-color: #dddddd; }\\n\\nion-thumbnail ion-img {\\n    border-radius: 8px  !important; }\\n\\n.fixedLabel {\\n  min-width: 100% !important;\\n  max-width: 100% !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pZ25pc2l0L0RvY3VtZW50cy9wcm9qZWN0cy9yZWFsIGVzdGF0ZSBhcHAvc3JjL2FwcC9hcHAtc2hvcHBpbmcvc2hvcHBpbmctc3VtbWFyeS9zaG9wcGluZy1zdW1tYXJ5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHNCQUFhLEVBQ2hCOztBQUNEO0VBQ0ksbUJBQWtCLEVBQ3JCOztBQUNEO0VBQ0ksYUFBTztFQU1QLCtCQUE4QjtFQUM5QiwwQkFBeUIsRUFZNUI7O0FBcEJEO0lBZ0JRLCtCQUE4QixFQUdqQzs7QUFFTDtFQUNJLDJCQUEwQjtFQUMxQiwyQkFBMEIsRUFDN0IiLCJmaWxlIjoic3JjL2FwcC9hcHAtc2hvcHBpbmcvc2hvcHBpbmctc3VtbWFyeS9zaG9wcGluZy1zdW1tYXJ5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50e1xuICAgIC0tYmFja2dyb3VuZDogI2Y2ZjZmNjtcbn1cbmlvbi1sYWJlbHtcbiAgICBwYWRkaW5nLWxlZnQ6IDE1cHg7XG59XG5pb24tdGh1bWJuYWlsIHtcbiAgICAtLXNpemU6IDUwcHg7XG4gICAgLy8gd2lkdGg6IDEwNHB4ICFpbXBvcnRhbnQ7XG4gICAgLy8gaGVpZ2h0OiA3NXB4ICFpbXBvcnRhbnQ7XG5cbiAgICAvLyAvLyBtYXJnaW4tbGVmdDogMjRweDtcbiAgICAvLyBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweCAgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkZGRkO1xuXG4gICAgLy8gLy8gbWluLXdpZHRoOiA2cmVtOyAgICBcbiAgICAvLyAvLyBtaW4taGVpZ2h0OiA4cmVtO1xuICAgIC8vIG1pbi13aWR0aDogNnJlbTsgICAgXG4gICAgLy8gbWluLWhlaWdodDogNXJlbTtcbiAgICAvLyBtYXJnaW4tbGVmdDogMjRweDtcbiAgICBpb24taW1nIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4ICAhaW1wb3J0YW50O1xuICAgICAgICAvLyBtYXgtd2lkdGg6IDZyZW07ICAgIFxuICAgICAgICAvLyBtaW4td2lkdGg6IDhyZW07XG4gICAgfVxufVxuLmZpeGVkTGFiZWwge1xuICAgIG1pbi13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute , Router} from '@angular/router';\nimport { NavController} from '@ionic/angular';\nimport { UserService } from '../../services/user.service';\nimport { ShoppingService } from '../../services/shopping.service';\nimport { IonicComponentService } from '../../services/ionic-component.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-shopping-summary',\n  templateUrl: './shopping-summary.page.html',\n  styleUrls: ['./shopping-summary.page.scss'],\n})\nexport class ShoppingSummaryPage implements OnInit {\n  orderItems = [];\n  total = 0;\n  totalVat: number;\n  totalValue: number = 0;\n\n  public address: Observable<any>;\n  public item: Observable<any[]>;\n\n  private userProfileId: any;\n  addressId: string;\n  paymentType: string;\n  itemCart: any;\n  orderId: any;\n\n\n\n  constructor( \n    public userService: UserService,\n    public shoppingService: ShoppingService,\n    private activatedRoute: ActivatedRoute,\n    private navController: NavController,\n    public router: Router,\n    private ionicComponentService: IonicComponentService\n  )\n    { \n      //this.categoryId = this.activatedRoute.snapshot.paramMap.get('categoryId');\n      //console.log(\"Get activatedRoute categoryId=\"+ this.activatedRoute.snapshot.paramMap.get('categoryId'));\n      console.log(this.router.url,\"Current URL\");\n\n      this.addressId = this.activatedRoute.snapshot.paramMap.get('addressId');\n      this.paymentType = this.activatedRoute.snapshot.paramMap.get('paymentType');\n      console.log(\"_____________addressId=\"+this.addressId);\n      console.log(\"paymentType=\"+this.paymentType);\n\n    }\n\n\n  ngOnInit() {\n    // get item in cart\n\n    // get address detail\n    this.address = this.userService.getAddressById(this.addressId);\n    // convert payment code to readable \n    \n    //this.userProfileId = this.userService.getUserId();\n    \n  }\n  ionViewWillEnter() {\n\n    this.getCartProduct() \n   // this.totalVat = this.total + ]\n  }\n  \n  getCartProduct() {\n    // this.cartProducts = this.productService.getLocalCartProducts();\n   \n   \n     const items = this.shoppingService.getCart();\n     console.log(\"page not refresh__________________shopping-cart : items=\"+items);\n     const selected = {};\n     this.totalValue = 0;\n   \n     for (const obj of items) {\n       this.totalValue += obj.price;\n     }\n   \n   \n     this.orderItems = items;\n     console.log(\"..............Order items =\"+JSON.stringify(this.orderItems));\n     this.total =this.totalValue;\n   \n   }\n\n  async addOrder(){\n   // console.log(\"userProfileId=\"+this.userService.getUserId());\n      //****** loading *******//\n      this.ionicComponentService.presentLoading();\n      this.shoppingService.placeOrder(this.addressId, this.paymentType, this.orderItems, this.total )\n        .then(\n          () => {\n            //this.router.navigateByUrl('/home');\n            console.log(\"_____________New item added.\")\n           this.ionicComponentService.dismissLoading();\n           this.router.navigateByUrl('/shopping-finish' );\n            //this.navController.goForward(`/person/${this.catId}?something=${encodeURI(somethingValue)}`);\n            //this.navController.goForward('/crud-item/${this.catId}');\n            //this.navController.navigateForward('/crud-item');\n          },\n          error => {\n            console.log(error);\n            this.ionicComponentService.presentToast(error, 3000);\n            this.ionicComponentService.dismissLoading();\n          }\n        );\n\n  }\n\n\n}\n"],"sourceRoot":""}